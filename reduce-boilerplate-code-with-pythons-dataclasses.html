<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="./theme/css/elegant.prod.9e9d5ce754.css" media="screen">
        <link rel="stylesheet" type="text/css" href="./theme/css/custom.css" media="screen">

        <link rel="dns-prefetch" href="//fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

        <meta name="google-site-verification" content="<meta name='google-site-verification' content='N5QEPRj-LpgoEY0Hf3uVMmZq8kjDwTFjd54IgvLmRBc' />" />        <meta name="author" content="Redowan Delowar" />

        <meta name="description" content="Recently, my work needed me to create lots of custom data types and draw comparison among them. So, my code was littered with many classes that somewhat looked like this: class CartesianPoint: def __init__(self, x, y, z): self.x = x self.y = y self.z = z def __repr__(self …
" />
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="Python, python, " />

<meta property="og:title" content="Reduce boilerplate code with Python&#39;s dataclasses "/>
<meta property="og:url" content="./reduce-boilerplate-code-with-pythons-dataclasses.html" />
<meta property="og:description" content="Recently, my work needed me to create lots of custom data types and draw comparison among them. So, my code was littered with many classes that somewhat looked like this: class CartesianPoint: def __init__(self, x, y, z): self.x = x self.y = y self.z = z def __repr__(self …" />
<meta property="og:site_name" content="Redowan&#39;s Reflections" />
<meta property="og:article:author" content="Redowan Delowar" />
<meta property="og:article:published_time" content="2020-03-12T00:00:00+06:00" />
<meta name="twitter:title" content="Reduce boilerplate code with Python&#39;s dataclasses ">
<meta name="twitter:description" content="Recently, my work needed me to create lots of custom data types and draw comparison among them. So, my code was littered with many classes that somewhat looked like this: class CartesianPoint: def __init__(self, x, y, z): self.x = x self.y = y self.z = z def __repr__(self …">
<meta property="og:image" content="https://user-images.githubusercontent.com/30027932/149235389-c6b85b40-5515-4de4-a922-7b0f91efd0cf.png" />
<meta name="twitter:image" content="https://user-images.githubusercontent.com/30027932/149235389-c6b85b40-5515-4de4-a922-7b0f91efd0cf.png" >

        <title>Reduce boilerplate code with Python&#39;s dataclasses  · Redowan&#39;s Reflections
</title>
        <link href="https://rednafi.github.io/reflections/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Redowan&#39;s Reflections - Full Atom Feed" />

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
     m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
     })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-217287505-1', 'auto');
    ga('send', 'pageview');
</script>


    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="./"><span class=site-name>Redowan's Reflections</span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       .
                                    >Home</a>
                                </li>
                                <li ><a href="./pages/contact.html">Contact</a></li>
                                <li ><a href="./categories.html">Categories</a></li>
                                <li ><a href="./tags.html">Tags</a></li>
                                <li ><a href="./archives.html">Archives</a></li>
                                <li>
                                  <form action="https://www.google.com/search" class="navbar-search" method="get" name="searchform" target="_blank">
                                    <input name="sitesearch" type="hidden"
                                    value="rednafi.github.io/reflections">
                                    <input autocomplete="on" class="search-query" name="q" placeholder="Search"
                                    required="required"  type="text">
                                    <input type="submit" value="Search" style="visibility: hidden;" /></form>
                                  </form>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="./reduce-boilerplate-code-with-pythons-dataclasses.html">
                Reduce boilerplate code with Python's dataclasses
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <p>Recently, my work needed me to create lots of custom data types and draw comparison
among them. So, my code was littered with many classes that somewhat looked like this:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">CartesianPoint</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">z</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;CartesianPoint(x = </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="si">}</span><span class="s2">, y = </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="si">}</span><span class="s2">, z = </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="si">}</span><span class="s2">)&quot;</span>


<span class="nb">print</span><span class="p">(</span><span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; CartesianPoint(x = 1, y = 2, z = 3)
</code></pre></div>

<p>This class only creates a <code>CartesianPoint</code> type and shows a pretty output of the
instances created from it. However, it already has two methods inside, <code>__init__</code> and
<code>__repr__</code> that do not do much.</p>
<h2>Dataclasses</h2>
<p>Let's see how data classes can help to improve this situation. Data classes were
introduced to python in version 3.7. Basically they can be regarded as code generators
that reduce the amount of boilerplate you need to write while generating generic
classes. Rewriting the above class using <code>dataclass</code> will look like this:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">CartesianPoint</span><span class="p">:</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">z</span><span class="p">:</span> <span class="nb">float</span>


<span class="c1"># using the class</span>
<span class="n">point</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">point</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; CartesianPoint(x=1, y=2, z=3)
</code></pre></div>

<p>In the above code, the magic is done by the <code>dataclass</code> decorator. Data classes require
you to use explicit <a href="https://docs.python.org/3/library/typing.html">type annotation</a> and
it automatically implements methods like <code>__init__</code>, <code>__repr__</code>, <code>__eq__</code> etc
beforehand. You can inspect the methods that <code>dataclass</code> auto defines via python's help.</p>
<div class="highlight"><pre><span></span><code><span class="n">help</span><span class="p">(</span><span class="n">CartesianPoint</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="n">Help</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="n">CartesianPoint</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">__main__</span><span class="p">:</span><span class="w"></span>

<span class="k">class</span><span class="w"> </span><span class="n">CartesianPoint</span><span class="p">(</span><span class="n">builtins</span><span class="o">.</span><span class="n">object</span><span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">CartesianPoint</span><span class="p">(</span><span class="n">x</span><span class="p">:</span><span class="nb nb-Type">float</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">:</span><span class="nb nb-Type">float</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">:</span><span class="nb nb-Type">float</span><span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">Methods</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="n">here</span><span class="p">:</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">other</span><span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">:</span><span class="nb nb-Type">float</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">:</span><span class="nb nb-Type">float</span><span class="p">,</span><span class="w"> </span><span class="n">z</span><span class="p">:</span><span class="nb nb-Type">float</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">None</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="o">----------------------------------------------------------------------</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">Data</span><span class="w"> </span><span class="n">descriptors</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="n">here</span><span class="p">:</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">__dict__</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="n">dictionary</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">variables</span><span class="w"> </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="n">defined</span><span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">__weakref__</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="n">list</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">weak</span><span class="w"> </span><span class="n">references</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">object</span><span class="w"> </span><span class="p">(</span><span class="k">if</span><span class="w"> </span><span class="n">defined</span><span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="o">----------------------------------------------------------------------</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">Data</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="n">attributes</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="n">here</span><span class="p">:</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">__annotations__</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="s1">&#39;float&#39;</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;y&#39;</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="s1">&#39;float&#39;</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;z&#39;</span><span class="p">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">c</span><span class="o">...</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">__dataclass_fields__</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span><span class="w"> </span><span class="n">Field</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="n">type</span><span class="o">=&lt;</span><span class="k">class</span><span class="w"> </span><span class="s1">&#39;float&#39;</span><span class="o">&gt;</span><span class="p">,</span><span class="n">defau</span><span class="o">...</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">__dataclass_params__</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_DataclassParams</span><span class="p">(</span><span class="n">init</span><span class="o">=</span><span class="n">True</span><span class="p">,</span><span class="n">repr</span><span class="o">=</span><span class="n">True</span><span class="p">,</span><span class="n">eq</span><span class="o">=</span><span class="n">True</span><span class="p">,</span><span class="ow">or</span><span class="o">...</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w"></span>
<span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">__hash__</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">None</span><span class="w"></span>
</code></pre></div>

<h2>Using default values</h2>
<p>You can provide default values to the fields in the following way:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">CartesianPoint</span><span class="p">:</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">z</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mi">0</span>
</code></pre></div>

<h2>Using arbitrary field type</h2>
<p>If you don't want to specify your field type during type hinting, you can use <code>Any</code> type
from python's <code>typing</code> module.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">CartesianPoint</span><span class="p">:</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">Any</span>
    <span class="n">y</span><span class="p">:</span> <span class="n">Any</span>
    <span class="n">z</span><span class="p">:</span> <span class="n">Any</span>
</code></pre></div>

<h2>Instance ordering</h2>
<p>You can check if two instances are equal without making any modification to the class.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">CartesianPoint</span><span class="p">:</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">z</span><span class="p">:</span> <span class="nb">float</span>


<span class="n">point_1</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">point_2</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">point_1</span> <span class="o">==</span> <span class="n">point_2</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; False
</code></pre></div>

<p>However, if you want to compare multiple instances of dataclasses, aka add <code>__gt__</code> or
<code>__lt__</code> methods to your instances, you have to turn on the <code>order</code> flag manually.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>


<span class="nd">@dataclass</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">CartesianPoint</span><span class="p">:</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">z</span><span class="p">:</span> <span class="nb">float</span>


<span class="c1"># comparing two instances</span>
<span class="n">point_1</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">)</span>
<span class="n">point_2</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">point_1</span> <span class="o">&gt;</span> <span class="n">point_2</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; True
</code></pre></div>

<p>By default, while comparing instances, all of the fields are used. In our above case,
all the fields  <code>x</code>, <code>y</code>, <code>z</code>of <code>point_1</code> instance are compared with all the fields of
<code>point_2</code> instance. You can customize this using the <code>field</code> function.</p>
<p>Suppose you want to acknowledge two instances as equal only when attribute <code>x</code> of both
of them are equal. You can emulate this in the following way:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>


<span class="nd">@dataclass</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">CartesianPoint</span><span class="p">:</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">compare</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">z</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">compare</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>


<span class="c1"># create intance where only the x attributes are equal</span>
<span class="n">point_1</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">point_2</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

<span class="c1"># compare the instances</span>
<span class="nb">print</span><span class="p">(</span><span class="n">point_1</span> <span class="o">==</span> <span class="n">point_2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">point_1</span> <span class="o">&lt;</span> <span class="n">point_2</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; True
&gt;&gt;&gt; False
</code></pre></div>

<p>You can see the above code prints out <code>True</code> despite the instances have different <code>y</code>
and <code>z</code> attributes.</p>
<h2>Adding methods</h2>
<p>Methods can be added to dataclasses just like normal classes. Let's add another method
called <code>dist</code> to our <code>CartesianPoint</code> class. This method calculates the distance of a
point from origin.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">import</span> <span class="nn">math</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">CartesianPoint</span><span class="p">:</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">z</span><span class="p">:</span> <span class="nb">float</span>

    <span class="k">def</span> <span class="nf">dist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>


<span class="c1"># create a new instance and use method `abs_val`</span>
<span class="n">point</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="n">norm</span> <span class="o">=</span> <span class="n">point</span><span class="o">.</span><span class="n">abs_val</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">norm</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; 10.488088481701515
</code></pre></div>

<h2>Making instances immutable</h2>
<p>By default, instances of dataclasses are immutable. If you want to prevent mutating your
instance attributes, you can set <code>frozen=True</code> while defining your dataclass.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>


<span class="nd">@dataclass</span><span class="p">(</span><span class="n">frozen</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">CartesianPoint</span><span class="p">:</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">z</span><span class="p">:</span> <span class="nb">float</span>
</code></pre></div>

<p>If you try to mutate the any of the attributes of the above class, it will raise <code>FrozenInstanceError</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">point</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">point</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mi">23</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code><span class="o">---------------------------------------------------------------------------</span><span class="w"></span>

<span class="n">FrozenInstanceError</span><span class="w">                       </span><span class="n">Traceback</span><span class="w"> </span><span class="p">(</span><span class="n">most</span><span class="w"> </span><span class="n">recent</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">last</span><span class="p">)</span><span class="w"></span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="k">input</span><span class="o">-</span><span class="mh">34</span><span class="o">-</span><span class="n">b712968bd0eb</span><span class="o">&gt;</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="o">&lt;</span><span class="k">module</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">        </span><span class="mh">1</span><span class="w"> </span><span class="n">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CartesianPoint</span><span class="p">(</span><span class="mh">2</span><span class="p">,</span><span class="w"> </span><span class="mh">4</span><span class="p">,</span><span class="w"> </span><span class="mh">6</span><span class="p">)</span><span class="w"></span>
<span class="o">----&gt;</span><span class="w"> </span><span class="mh">2</span><span class="w"> </span><span class="n">point</span><span class="p">.</span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">23</span><span class="w"></span>


<span class="o">&lt;</span><span class="k">string</span><span class="o">&gt;</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="n">__setattr__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"></span>


<span class="nl">FrozenInstanceError:</span><span class="w"> </span><span class="n">cannot</span><span class="w"> </span><span class="k">assign</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">field</span><span class="w"> </span><span class="sc">&#39;x&#39;</span><span class="w"></span>
</code></pre></div>

<h2>Making instances hashable</h2>
<p>You can turn on the <code>unsafe_hash</code> parameter of the <code>dataclass</code> decorator to make the
class instances hashable. This may come in handy when you want to use your instances as
dictionary keys or want to perform set operation on them. However, if you are using
<code>unsafe_hash</code> make sure that your dataclasses do not contain any mutable data structure
in it.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>


<span class="nd">@dataclass</span><span class="p">(</span><span class="n">unsafe_hash</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">CartesianPoint</span><span class="p">:</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">z</span><span class="p">:</span> <span class="nb">float</span>


<span class="c1"># creating instance</span>
<span class="n">point</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

<span class="c1"># use the class instances as dictionary keys</span>
<span class="nb">print</span><span class="p">({</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">point</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="s2">&quot;origin&quot;</span><span class="p">})</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; {&#39;CartesianPoint(x=0, y=0, z=0)&#39;: &#39;origin&#39;}
</code></pre></div>

<h2>Converting instances to dicts</h2>
<p>The <code>asdict()</code> function converts a dataclass instance to a dict of its fields.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">asdict</span>

<span class="n">point</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">asdict</span><span class="p">(</span><span class="n">point</span><span class="p">))</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; {&#39;x&#39;: 1, &#39;y&#39;: 5, &#39;z&#39;: 6}
</code></pre></div>

<h2>Post-init processing</h2>
<p>When dataclass generates the <code>__init__</code> method, internally it'll call <code>_post_init__</code>
method. You can add additional processing in the <code>__post_init__</code> method. Here, I've
added another attribute <code>tup</code> that returns the cartesian point as a tuple.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">CartesianPoint</span><span class="p">:</span>
    <span class="n">x</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">z</span><span class="p">:</span> <span class="nb">float</span>

    <span class="k">def</span> <span class="nf">__post_init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tup</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="p">)</span>


<span class="c1"># checking the tuple</span>
<span class="n">point</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">point</span><span class="o">.</span><span class="n">tup</span><span class="p">)</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>&gt;&gt;&gt; (4, 5, 6)
</code></pre></div>

<h2>Refactoring the CartesianPoint class</h2>
<p>The feature rich original <code>CartesianPoint</code> looks something like this:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">math</span>


<span class="k">class</span> <span class="nc">CartesianPoint</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Immutable Cartesian point class.</span>
<span class="sd">    Although mathematically incorrect,</span>
<span class="sd">    for demonstration purpose, all the</span>
<span class="sd">    comparisons are done based on</span>
<span class="sd">    the first field only.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z</span> <span class="o">=</span> <span class="n">z</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Print the instance neatly.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;CartesianPoint(x = </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="si">}</span><span class="s2">, y = </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="si">}</span><span class="s2">, z = </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="s2">&quot;Checks if equal.&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span>

    <span class="k">def</span> <span class="nf">__nq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks non equality.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">!=</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span>

    <span class="k">def</span> <span class="fm">__gt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks if greater than.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span>

    <span class="k">def</span> <span class="fm">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks if greater than or equal.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span>

    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks if less than.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span>

    <span class="k">def</span> <span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Checks if less than or equal.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">x</span>

    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Make the instances hashable.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">dist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Finds distance of point from origin.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>

<p>Let's see the class in action:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># create multiple instances of the class</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>

<span class="c1"># checking the __repr__ method</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="c1"># checking the __eq__ method</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span>

<span class="c1"># checking the __nq__ method</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">!=</span> <span class="n">c</span><span class="p">)</span>

<span class="c1"># checking the __ge__ method</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span> <span class="o">&gt;=</span> <span class="n">d</span><span class="p">)</span>

<span class="c1"># checking the __lt__ method</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span> <span class="o">&lt;</span> <span class="n">a</span><span class="p">)</span>

<span class="c1"># checking __hash__ and __dist__ method</span>
<span class="nb">print</span><span class="p">({</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="n">a</span><span class="o">.</span><span class="n">dist</span><span class="p">()})</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>CartesianPoint(x = 1, y = 2, z = 3)
True
True
False
True
{&#39;CartesianPoint(x = 1, y = 2, z = 3)&#39;: 3.7416573867739413}
</code></pre></div>

<p>Below is the same class refactored using dataclass.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>


<span class="nd">@dataclass</span><span class="p">(</span><span class="n">unsafe_hash</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">CartesianPoint</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Immutable Cartesian point class.</span>
<span class="sd">    Although mathematically incorrect,</span>
<span class="sd">    for demonstration purpose, all the</span>
<span class="sd">    comparisons are done based on</span>
<span class="sd">    the first field only.&quot;&quot;&quot;</span>

    <span class="n">x</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">y</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">compare</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">z</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">compare</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">dist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Finds distance of point from origin.&quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">z</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>

<p>Use this class like before.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># create multiple instances of the class</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">CartesianPoint</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>

<span class="c1"># checking the __repr__ method</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

<span class="c1"># checking the __eq__ method</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span><span class="p">)</span>

<span class="c1"># checking the __nq__ method</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span> <span class="o">!=</span> <span class="n">c</span><span class="p">)</span>

<span class="c1"># checking the __ge__ method</span>
<span class="nb">print</span><span class="p">(</span><span class="n">b</span> <span class="o">&gt;=</span> <span class="n">d</span><span class="p">)</span>

<span class="c1"># checking the __lt__ method</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span> <span class="o">&lt;</span> <span class="n">a</span><span class="p">)</span>

<span class="c1"># checking __hash__ and __dist__ method</span>
<span class="nb">print</span><span class="p">({</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">a</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">:</span> <span class="n">a</span><span class="o">.</span><span class="n">dist</span><span class="p">()})</span>
</code></pre></div>

<div class="highlight"><pre><span></span><code>CartesianPoint(x=1, y=2, z=3)
True
True
False
True
{&#39;CartesianPoint(x=1, y=2, z=3)&#39;: 3.7416573867739413}
</code></pre></div>

<h2>References</h2>
<ul>
<li><a href="https://docs.python.org/3/library/dataclasses.html">Python dataclasses — Official docs</a></li>
<li><a href="https://realpython.com/python-data-classes/">The ultimate guide to dataclasses in Python 3.7</a></li>
</ul>


             
 
            
            
            







            <hr/>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2020-03-12T00:00:00+06:00">Thu 12 March 2020</time>
            <h4>Category</h4>
            <a class="category-link" href="./categories.html#python-ref">python</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="./tags.html#python-ref">Python
                    <span class="superscript">58</span>
</a></li>
            </ul>
<h4>Contact</h4>
<div id="sidebar-social-link">
    <a href="mailto:redowan.nafi@gmail.com" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="Mail" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#328cff"/><path d="m250 186c-46 0-69 35-69 74 0 44 29 72 68 72 43 0 73-32 73-75 0-44-34-71-72-71zm-1-37c30 0 57 13 77 33 0-22 35-22 35 1v150c-1 10 10 16 16 9 25-25 54-128-14-187-64-56-149-47-195-15-48 33-79 107-49 175 33 76 126 99 182 76 28-12 41 26 12 39-45 19-168 17-225-82-38-68-36-185 67-248 78-46 182-33 244 32 66 69 62 197-2 246-28 23-71 1-71-32v-11c-20 20-47 32-77 32-57 0-108-51-108-108 0-58 51-110 108-110" fill="#fff"/></svg>
    </a>
    <a href="https://github.com/rednafi" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="GitHub" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1B1817"/><path fill="#fff" d="M335 499c14 0 12 17 12 17H165s-2-17 12-17c13 0 16-6 16-12l-1-50c-71 16-86-28-86-28-12-30-28-37-28-37-24-16 1-16 1-16 26 2 40 26 40 26 22 39 59 28 74 22 2-17 9-28 16-35-57-6-116-28-116-126 0-28 10-51 26-69-3-6-11-32 3-67 0 0 21-7 70 26 42-12 86-12 128 0 49-33 70-26 70-26 14 35 6 61 3 67 16 18 26 41 26 69 0 98-60 120-117 126 10 8 18 24 18 48l-1 70c0 6 3 12 16 12z"/></svg>
    </a>
    <a href="https://twitter.com/rednafi" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="Twitter" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1da1f3"/><path fill="#fff" d="M437 152a72 72 0 0 1-40 12 72 72 0 0 0 32-40 72 72 0 0 1-45 17 72 72 0 0 0-122 65 200 200 0 0 1-145-74 72 72 0 0 0 22 94 72 72 0 0 1-32-7 72 72 0 0 0 56 69 72 72 0 0 1-32 1 72 72 0 0 0 67 50 200 200 0 0 1-105 29 200 200 0 0 0 309-179 200 200 0 0 0 35-37"/></svg>
    </a>
    <a href="https://www.goodreads.com/user/show/53485837-redowan-delowar" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg height="512" viewBox="0 0 512 512" width="512" xmlns="http://www.w3.org/2000/svg"><rect fill="#EAE6CF" height="512" rx="64" width="512"/><path d="m254.92444 336.92444c43.2889-.36 74.07112-22.01333 92.33334-64.95111h.95556v65.48889c0 4.88-.32 12.44889-.95556 22.73333-1.30222 10.64445-4.78222 22.10223-10.42666 34.36889-5.65778 11.54667-14.79112 21.38667-27.37778 29.49778-12.44889 8.84-29.81778 13.44-52.12001 13.80444-21.48444 0-39.65333-5.59555-54.52444-16.77777-15.2-11.00889-24.08001-28.87111-26.65778-53.58667h-18.89778c1.93778 32.11111 12.18667 55.02667 30.76444 68.74222 18.08889 13.16445 41.04001 19.75556 68.83556 19.75556 27.45778 0 48.87112-5.14223 64.21778-15.43111 15.18223-9.92 26.08445-22.28445 32.71556-37.08 6.62222-14.79111 10.58222-28.86667 11.86667-42.21334.98222-13.35555 1.45778-22.91555 1.45778-28.68889v-270.088875h-18.90667v59.537775h-.95556c-7.27555-21.82667-19.30666-38.333335-36.12-49.524445-16.96-11.00445-35.70222-16.51111-56.21333-16.51111-35.72001.72444-62.85779 14.52444-81.43112 41.40889-19.07111 26.697775-28.59556 59.631105-28.59556 98.782195 0 40.23557 9.04445 73.52001 27.13334 99.86224 18.27555 26.88889 45.89778 40.51111 82.90222 40.87111zm-68.34222-224.89777c14.85333-24.359995 37.63111-36.986665 68.34222-37.888885 31.50223.90666 54.83556 13.17333 70.03556 36.808885 15.18223 23.64 22.77778 52.05331 22.77778 85.25331s-7.59555 61.43112-22.77778 84.70668c-15.2 24.72444-38.53333 37.34667-70.03556 37.88889-29.72889-.54667-52.36-12.81778-67.86222-36.80889-15.67556-23.27556-23.50667-51.87112-23.50667-85.79112-.004-31.75556 7.67111-59.81332 23.02667-84.16887z" fill="#743901"/></svg>
    </a>
    <a href="/reflections/feeds/all.atom.xml" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></svg>
    </a>
</div>
            





            





        </section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>



    <div id="fpowered">

            © 2020-2022 • Redowan Delowar • All Rights Reserved


    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="./theme/js/elegant.prod.9e9d5ce754.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>